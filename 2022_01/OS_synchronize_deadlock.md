> [ì´í™”ì—¬ëŒ€ ë°˜íš¨ê²½ êµìˆ˜ë‹˜ì˜ ê°•ì˜](http://www.kocw.or.kr/home/cview.do?mty=p&kemId=1226304&ar=relateCourse) ë¥¼ ë“¤ìœ¼ë©° ì •ë¦¬í•œ ë‚´ìš©ìž…ë‹ˆë‹¤.

## ë™ê¸°í™”ëž€?
- ìž„ê³„ êµ¬ì—­ì—ì„œ í”„ë¡œì„¸ìŠ¤ë‚˜ ìŠ¤ë ˆë“œë“¤ì´ ìˆœì„œë¥¼ ê°–ì¶° ìžì›ì„ ì‚¬ìš©í•˜ê²Œ í•˜ëŠ” ê²ƒ  
  (`ìž„ê³„ êµ¬ì—­`: ë©€í‹° ìŠ¤ë ˆë“œì— ì˜í•´ ê³µìœ  ìžì›ì´ ì„œë¡œ ì°¸ì¡°ë  ìˆ˜ ìžˆëŠ” ì½”ë“œì˜ ë²”ìœ„)
- í•œ ìŠ¤ë ˆë“œê°€ ìž‘ì—… ì¤‘ ë‹¤ë¥¸ ìŠ¤ë ˆë“œì— ì˜í•œ ê°„ì„­ì„ ë°›ì§€ ëª»í•˜ë„ë¡ ë§‰ëŠ” ê²ƒ
- **í•˜ë‚˜ì˜ ìžì›ì„ í•œ ë²ˆì— í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œì—ì„œë§Œ ì‚¬ìš©**í•˜ë„ë¡ í•˜ëŠ” ê¸°ìˆ 

### javaì—ì„œ ë™ê¸°í™” í•˜ê¸°
- `synchronized` í‚¤ì›Œë“œ ì‚¬ìš©
    - ì„±ëŠ¥ í•˜ë½
- `inner static class` ì´ìš©
    - ë‚´ë¶€ì— `static class`ë¥¼ ìƒì„±í•´ ë‚´ë¶€ì—ì„œ ê°ì²´ë¥¼ ìƒì„±í•˜ë„ë¡ í•¨
    - `static`ì€ ë©”ëª¨ë¦¬ì— í•œ ë²ˆ í• ë‹¹ë˜ë©° í”„ë¡œê·¸ëž¨ ì¢…ë£Œ ì‹œ í•´ì œë¨
    - ì¼ë°˜ì ìœ¼ë¡œ `getInstance()`ë¼ëŠ” ì´ë¦„ì˜ ë©”ì†Œë“œë¥¼ ìƒì„±í•´ `static class`ì—ì„œ ìƒì„±í•œ ê°ì²´ë¥¼ ë°˜í™˜í•˜ë„ë¡ í•¨
    - JVMì—ê²Œ í´ëž˜ìŠ¤ ë¡œë”©ì„ ë§¡ê¸°ë©° staticí•œ ì‹±ê¸€í†¤ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•´ ë™ê¸°í™” í™˜ê²½ êµ¬ì„±ë¨
    - ë‹¤ë§Œ `Reflection`ìœ¼ë¡œ íŒŒí›¼ê°€ ê°€ëŠ¥
- `Enum` ì‚¬ìš©

inner static class ì˜ˆì œ
```java
public class Singleton {
    private Singleton() {
    }

    private static class LazyHolder {
        private static final Singleton INSTANCE = new Singleton();
    }

    public static Singleton getInstance() {
        return LazyHolder.INSTANCE;
    }
}
```

### Race Condition
#### ë°œìƒ ìƒí™©
- ì»¤ë„ ìˆ˜í–‰ ì¤‘ ì¸í„°ëŸ½íŠ¸ ë°œìƒ
  - ì¸í„°ëŸ½íŠ¸ëŠ” ë°œìƒ ì¦‰ì‹œ ì¸í„°ëŸ½íŠ¸ ì²˜ë¦¬ë£¨í‹´ ìˆ˜í–‰
  - ì¸í„°ëŸ½íŠ¸ ì²˜ë¦¬ë£¨í‹´ë„ ì»¤ë„ ì½”ë“œìž„  
    (= kernel address space ê³µìœ )
  - ðŸ‘‰ ì¸í„°ëŸ½íŠ¸ì—ì„œ ë³€ê²½ë  ìˆ˜ ìžˆëŠ” ë°ì´í„°ì— ëŒ€í•´ ì¸í„°ëŸ½íŠ¸ë¥¼ disable ì‹œí‚¤ê³  ì¢…ë£Œ í›„ enable ì²˜ë¦¬


- í”„ë¡œì„¸ìŠ¤ê°€ System Callì„ í•˜ì—¬ ì»¤ë„ ëª¨ë“œë¡œ ìˆ˜í–‰ ì¤‘ì¸ë° Context Switch ë°œìƒ
  - í”„ë¡œì„¸ìŠ¤ Aê°€ ì»¤ë„ ëª¨ë“œë¡œ ìˆ˜í–‰ ì¤‘ì— CPU ì†Œìœ  ì‹œê°„ì´ ì¢…ë£Œë˜ì–´ í”„ë¡œì„¸ìŠ¤ Bê°€ í• ë‹¹ëœë‹¤ë©´?  
    í”„ë¡œì„¸ìŠ¤ B ì—­ì‹œ ì»¤ë„ ëª¨ë“œë¡œ ìˆ˜í–‰í•´ í”„ë¡œì„¸ìŠ¤ Aê°€ ë³€ê²½í•œ ë°ì´í„°ë¥¼ ë³€ê²½í•  ìˆ˜ë„ ìžˆë‹¤.
  - ðŸ‘‰ ì»¤ë„ ëª¨ë“œì—ì„œ ìˆ˜í–‰ ì¤‘ì¼ ë•Œ CPUë¥¼ ì„ ì  X  
    (= ì»¤ë„ ëª¨ë“œì—ì„œ ì‚¬ìš©ìž ëª¨ë“œë¡œ ëŒì•„ê°ˆ ë•Œ ì„ ì )


- ë©€í‹° í”„ë¡œì„¸ìŠ¤ í™˜ê²½ì—ì„œ ê³µìœ  ë©”ëª¨ë¦¬ ë‚´ì˜ ì»¤ë„ ë°ì´í„°
  - CPUê°€ ì—¬ëŸ¬ê°œì¸ ìƒí™©
  - ðŸ‘‰ í•œë²ˆì— í•˜ë‚˜ì˜ CPUë§Œ ì»¤ë„ì— ë“¤ì–´ê°ˆ ìˆ˜ ìžˆê²Œ í•˜ê¸°
  - ðŸ‘‰ ì»¤ë„ ë‚´ë¶€ì˜ ê° ê³µìœ  ë°ì´í„°ì— ì ‘ê·¼í•  ë•Œë§ˆë‹¤ ê·¸ ë°ì´í„°ì— ëŒ€í•´ lock/unlock

> System Call: ì‚¬ìš©ìž í”„ë¡œê·¸ëž¨ì´ OSì˜ ì„œë¹„ìŠ¤ë¥¼ ë°›ê¸° ìœ„í•´ ì»¤ë„ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒ  

#### í•´ê²° ì¡°ê±´
- Mutual Exclusion; ìƒí˜¸ ë°°ì œ
    - ìž„ê³„ êµ¬ì—­ì— í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œë§Œ ë“¤ì–´ê°
- Progress; ì§„í–‰
    - ì•„ë¬´ë„ ìž„ê³„ êµ¬ì—­ì— ì—†ì„ ë•Œ, ìž„ê³„ êµ¬ì—­ì— ë“¤ì–´ê°€ê³ ìž í•˜ëŠ” í”„ë¡œì„¸ìŠ¤ê°€ ìƒê¸°ë©´ ë“¤ì–´ê°€ê²Œ í•´ì¤˜ì•¼ í•¨
- Bounded Wating; ìœ í•œ ëŒ€ê¸°
    - í”„ë¡œì„¸ìŠ¤ê°€ ìž„ê³„ êµ¬ì—­ì— ë“¤ì–´ê°€ë ¤ê³  ìš”ì²­í•œ í›„ë¶€í„° ìš”ì²­ì´ í—ˆìš©ë  ë•Œê¹Œì§€ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ë“¤ì´ ìž„ê³„ ì˜ì—­ì— ë“¤ì–´ê°€ëŠ” íšŸìˆ˜ì— í•œê³„ê°€ ìžˆì–´ì•¼ í•¨

#### í•´ê²° ë°©ë²•
> Race Condition: í•˜ë‚˜ì˜ ìžì›ì„ ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ë‚˜ ìŠ¤ë ˆë“œê°€ ì ‘ê·¼í•  ë•Œ ë°œìƒí•  ìˆ˜ ìžˆëŠ” ë¬¸ì œ
- ëª…ë ¹ì–´ í•˜ë‚˜ë§Œìœ¼ë¡œ ë°ì´í„°ë¥¼ ì½ê³  ì“°ëŠ” ìž‘ì—…ì„ atomicí•˜ê²Œ ìˆ˜í–‰í•˜ê¸°  
  (ìž„ê³„ êµ¬ì—­ ë¬¸ì œì˜ ê·¼ë³¸ ì›ì¸ì€ ë°ì´í„°ë¥¼ ì½ê³  ì“°ëŠ” ë™ìž‘ì„ í•˜ë‚˜ì˜ ëª…ë ¹ì–´ë¡œ ìˆ˜í–‰í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸)
- **Mutex**
    - í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ê°€ ê³µìœ  ìžì›ì„ ì‚¬ìš© ì¤‘ì´ë©´ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ì˜ ì ‘ê·¼ ë§‰ìŒ
- **Semaphore**
    - ìžì›ì˜ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì¹´ìš´í„°
    - ìž„ê³„ êµ¬ì—­ì— ì§€ì • ê°œìˆ˜ë§Œí¼ ì ‘ê·¼ ê°€ëŠ¥
    - í”„ë¡œì„¸ìŠ¤ê°€ ìžì›ì„ ì‚¬ìš© ì¤‘ì´ë©´ ì„¸ë§ˆí¬ì–´ ê°’ì„ ë³€ê²½í•´ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ê°€ ì ‘ê·¼ ì‹œ ëŒ€ê¸° ìƒíƒœ
- **Monitor**
    - `ë°°íƒ€ ë™ê¸° Queue`: í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œë§Œ ê³µìœ ìžì›ì— ì ‘ê·¼í•  ìˆ˜ ìžˆë„ë¡ í•˜ëŠ” ê³µê°„
    - `ì¡°ê±´ ë™ê¸° Queue`: ì§„ìž… ìŠ¤ë ˆë“œê°€ blockë˜ë©° ìƒˆ ìŠ¤ë ˆë“œê°€ ì ‘ê·¼í•  ìˆ˜ ìžˆë„ë¡ í•˜ëŠ” ê³µê°„
    - ê³µìœ ìžì› ì ‘ê·¼ í•¨ìˆ˜ì—ëŠ” ìµœëŒ€ 1ê°œì˜ ìŠ¤ë ˆë“œë§Œ ì§„ìž… ê°€ëŠ¥  
      ë‚˜ë¨¸ì§€ëŠ” `ë°°íƒ€ ë™ê¸° Queue`ì—ì„œ ëŒ€ê¸°
    - `ì§„ìž… ìŠ¤ë ˆë“œ`ê°€ ì¡°ê±´ ë™ê¸°ë¡œ blockë˜ë©´ ê³µìœ  ìžì›ì— `ìƒˆ ìŠ¤ë ˆë“œ` ì ‘ê·¼ ê°€ëŠ¥
    - `ìƒˆ ìŠ¤ë ˆë“œ`ëŠ” `ì¡°ê±´ ë™ê¸°ë¡œ blockëœ ìŠ¤ë ˆë“œ`ë¥¼ `notify()`ë¥¼ í†µí•´ ê¹¨ìš¸ ìˆ˜ ìžˆìŒ
    - `ê¹¨ì›Œì§„ ìŠ¤ë ˆë“œ`ëŠ” `í˜„ìž¬ ìŠ¤ë ˆë“œ`ê°€ ë‚˜ê°€ë©´ ê³µìœ  ìžì›ì— ë‹¤ì‹œ ì ‘ê·¼í•  ìˆ˜ ìžˆìŒ

- ìž„ê³„ êµ¬ì—­ì˜ ê¸¸ì´ê°€ ë§¤ìš° ì§§ë‹¤ë©´ -> Block/Wake-up(ëª¨ë‹ˆí„°, ì„¸ë§ˆí¬ì–´) ì˜¤ë²„í—¤ë“œë³´ë‹¤ Busy/wait(ë®¤í…ìŠ¤) ì˜¤ë²„í—¤ë“œê°€ ë” ì»¤ì§ˆ ìˆ˜ ìžˆìŒ
- ì¼ë°˜ì ìœ¼ë¡œëŠ” Block/Wake-up ë°©ì‹ì´ ë” ì¢‹ìŒ

### Bounded-Buffer Problem; Producer-Consumer Problem
- `ìƒì‚°ìž í”„ë¡œì„¸ìŠ¤`: ë°ì´í„°ë¥¼ ìƒì„±í•´ ë²„í¼ì— ë„£ê¸°
- `ì†Œë¹„ìž í”„ë¡œì„¸ìŠ¤`: ë°ì´í„°ë¥¼ ë²„í¼ì—ì„œ êº¼ë‚´ê¸°
- ê° í”„ë¡œì„¸ìŠ¤ëŠ” ì—¬ëŸ¬ê°œ ì¡´ìž¬í•  ìˆ˜ ìžˆë‹¤
- `ìƒì‚°ìž í”„ë¡œì„¸ìŠ¤`ëŠ” ë²„í¼ì— ë¹ˆ ê³µê°„ì´ ìžˆì–´ì•¼ ë°ì´í„°ë¥¼ ë„£ì„ ìˆ˜ ìžˆê³ ,  
  `ì†Œë¹„ìž í”„ë¡œì„¸ìŠ¤`ëŠ” ë²„í¼ì— ë°ì´í„°ê°€ ì¡´ìž¬í•´ì•¼ ë°ì´í„°ë¥¼ êº¼ë‚¼ ìˆ˜ ìžˆìŒ
- `ë²„í¼ ì•ˆì— ë“  ë©”ëª¨ë¦¬ ê°œìˆ˜` ë˜ëŠ” `ë²„í¼ì˜ ë¹ˆ ë©”ëª¨ë¦¬ ê°œìˆ˜`ë¥¼ ê³µìœ  ë°ì´í„°ë¡œ ìƒì„±í•´ íŒŒì•…í•  í•„ìš”ê°€ ìžˆìŒ  

ðŸ‘‰ `Counting Semaphore`, `Binary Semaphore` ì´ìš©

#### Counting Semaphore
- ë„ë©”ì¸ì´ 0 ì´ìƒì¸ ìž„ì˜ì˜ ì •ìˆ˜ ê°’
- ì£¼ë¡œ resource countingì— ì‚¬ìš©

#### Binary Semaphore
- 0 ë˜ëŠ” 1
- ì£¼ë¡œ mutual exclusion _(lock/unlock)_ ì— ì‚¬ìš©

### Readers and Writers Problem
- í•œ í”„ë¡œì„¸ìŠ¤ê°€ DBì— write ì¤‘ì¼ ë•Œ ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ê°€ ì ‘ê·¼í•˜ë©´ ì›í•˜ì§€ ì•ŠëŠ” ê²°ê³¼ê°€ ë‚˜íƒ€ë‚  ìˆ˜ ìžˆìŒ
- readëŠ” ë™ì‹œì— ì—¬ëŸ¿ì´ ê°€ëŠ¥
- ðŸ‘‰ DB ì ‘ê·¼ ì‹œ lock, ì‚¬ìš© ì™„ë£Œ í›„ unlock _(ë¹„íš¨ìœ¨ì )_
- ðŸ‘‰ `readcount`ë¼ëŠ” ê³µìœ  ë³€ìˆ˜ë¥¼ ìƒì„±í•´ ê´€ë¦¬
  - `readcount` == 0 -> `Writer` ì ‘ê·¼ ê°€ëŠ¥
  - `Writer` ì ‘ê·¼ì¤‘ -> `Reader` ì ‘ê·¼ ë¶ˆê°€
  - `readcount`ëŠ” mutexë¥¼ ì´ìš©í•´ mutual exclusion ë³´ìž¥
  - ìˆ˜ë°± ìˆ˜ë§Œê°œì˜ `Reader`ê°€ ì ‘ê·¼ì´ ì¢…ë£Œë  ë•Œê¹Œì§€ `Writer`ê°€ ê¸°ë‹¤ë ¤ì•¼í•  ìˆ˜ ìžˆìŒ  
    -> ì‹ í˜¸ë“± ê°™ì´ íŠ¹ì • ì£¼ê¸°ë§ˆë‹¤ `Reader`ë¥¼ ë°›ì•„ë“¤ì´ë©´ ë¨

### ë°ë“œë½
- ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ê°€ ì„œë¡œ ìƒëŒ€ë°©ì— ì˜í•´ ì¶©ì¡±ë  ìˆ˜ ìžˆëŠ” eventë¥¼ ë¬´í•œížˆ ê¸°ë‹¤ë¦¬ëŠ” í˜„ìƒ
- ðŸ‘‰ eventì˜ ìˆœì„œë¥¼ ì§€ì •í•´ì£¼ë©´ ëœë‹¤.
> ex) `í”„ë¡œì„¸ìŠ¤1`ê³¼ `í”„ë¡œì„¸ìŠ¤2`ëŠ” `S`, `Q`ë¼ëŠ” ì„¸ë§ˆí¬ì–´ë¥¼ í•„ìš”ë¡œ í•œë‹¤.  
> `í”„ë¡œì„¸ìŠ¤ 1`ì´ P(S)ë¥¼ í†µí•´ `S`ë¥¼ íšë“í–ˆë‹¤.  
> `í”„ë¡œì„¸ìŠ¤ 2`ê°€ P(Q)ë¥¼ í†µí•´ `Q`ë¥¼ íšë“í–ˆë‹¤.  
> `í”„ë¡œì„¸ìŠ¤ 1`ì´ P(Q)ë¥¼ í†µí•´ `Q`ë¥¼ ì–»ê³ ìž í–ˆìœ¼ë‚˜ `í”„ë¡œì„¸ìŠ¤ 2`ê°€ ì´ë¯¸ ì°¨ì§€í–ˆë‹¤.  
> `í”„ë¡œì„¸ìŠ¤ 2`ê°€ P(S)ë¥¼ í†µí•´ `S`ë¥¼ ì–»ê³ ìž í–ˆìœ¼ë‚˜ `í”„ë¡œì„¸ìŠ¤ 1`ì´ ì´ë¯¸ ì°¨ì§€í–ˆë‹¤.  
> `í”„ë¡œì„¸ìŠ¤ 1`ê³¼ `í”„ë¡œì„¸ìŠ¤ 2`ëŠ” ì„œë¡œì˜ ìžì›ì´ í•„ìš”ë¡œ í•˜ë¯€ë¡œ ë‘˜ ë‹¤ ê³„ì† `ëŒ€ê¸° ìƒíƒœ`ì—ì„œ ë¨¸ë¬´ë¥¸ë‹¤.  
> `S`ë¥¼ ë¨¼ì € ì–»ì–´ì•¼ `Q`ë¥¼ ì–»ì„ ìˆ˜ ìžˆë‹¤ëŠ” ì¡°ê±´ì´ ìƒê¸´ë‹¤ë©´ í•´ê²°ëœë‹¤.

#### ë°œìƒ ì¡°ê±´
- `Mutual Exclusion`; `ìƒí˜¸ ë°°ì œ`
- `No preemption`; `ë¹„ì„ ì `: ìžì›ì„ ê°•ì œë¡œ ëºê¸°ì§€ ì•ŠìŒ
- `Hold and wait`; `ë³´ìœ  ëŒ€ê¸°`: ìžì›ì„ ê¸°ë‹¤ë¦´ ë•Œ ë³´ìœ í•œ ìžì›ì„ ë†“ì§€ ì•Šê³  ê³„ì† ê°–ê³  ìžˆìŒ
- `Circular wait`; `ìˆœí™˜ ëŒ€ê¸°`: ìžì›ì„ ê¸°ë‹¤ë¦¬ëŠ” í”„ë¡œì„¸ìŠ¤ê°„ ì‚¬ì´í´ í˜•ì„±

#### ë°ë“œë½ ì²˜ë¦¬
- `Prevention`: ë°œìƒ ì¡°ê±´ ì¤‘ ë‹¨ í•˜ë‚˜ë¼ë„ ë¶ˆë§Œì¡± ì‹œí‚¤ê¸°
- `Avoidance`: ìžì› ìš”ì²­ì— ëŒ€í•œ ë¶€ê°€ì ì¸ ì •ë³´ë¥¼ ì´ìš©í•´ ë°ë“œë½ ê°€ëŠ¥ì„± ì—†ëŠ” ê²½ìš°ì—ë§Œ ìžì› í• ë‹¹
- `Detection and Recovery`: ë°œìƒ í—ˆìš©í•˜ë˜ ë°œê²¬ ì‹œ Recovery ìž‘ì—…
- `Ignorance`: ì±…ìž„ X

> Deadlock Detection  
> - ìžì›ë‹¹ ë‹¨ì¼ ì¸ìŠ¤í„´ìŠ¤: Resource-Allocation Graph ì´ìš©  
> - ìžì›ë‹¹ ë©€í‹° ì¸ìŠ¤í„´ìŠ¤: Bankers's algorithm ì´ìš©
> 
> Recovery
> 1) Process termination  
> -1) ëª¨ë“  ë°ë“œë½ëœ í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ  
> -2) ë°ë“œë½ ìˆœí™˜ ì¢…ë£Œë  ë•Œê¹Œì§€ í•˜ë‚˜ì”© í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
> 2) Resource Preemption