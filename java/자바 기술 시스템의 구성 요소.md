# 자바 기술 시스템의 구성 요소

전통적으로 자바 기술 시스템은 다음 요소들을 포괄한다.

- 자바 프로그래밍 언어
- 자바 가상 머신 구현
- 클래스 파일 포맷
- 자바 클래스 라이브러리 API
- 타기업, 오픈 소스 커뮤니티 등에서 제공하는 서드 파티 라이브러리
이 요소들을 포함하는 범위에 따라 JDK, JRE가 나뉜다.


### JDK
- 자바 프로그래밍 언어, 자바 가상 머신, 자바 클래스 라이브러리의 묶음
- 자바 프로그램 개발에 필요한 최소한의 환경


### JRE
- 자바 SE API, 자바 가상 머신, 배포 기술의 묶음
- 자바 프로그램을 실행할 수 있는 표준 환경

![JDK 7 기준 자바 기술 시스템 구성 요소](https://github.com/user-attachments/assets/0cacbf70-a998-4fc5-b10f-b56803b12eaf)

위 그림을 보면 자바 가상 머신에 자바 핫스팟 VM이라고 쓰여있다. 핫스팟 VM에 대해 간단히 짚고 넘어가보겠다.



# 핫스팟 VM

- 썬 오라클 JDK와 Open JDK의 기본 가상 머신
- 가장 널리 사용되고 있는 가상 머신
- 핫 코드 감지 기능 도입
  - 핫 코드: 빈번하게 실행되어 전체 성능에 영향을 크게 주는 코드
  - 컴파일했을 때 효과를 가장 크게 볼 수 있는 코드 영역을 런타임에 알아내 JIT 컴파일러에게 알림 -> JIT 컴파일러가 해당 코드를 메서드 단위로 컴파일.
  - 온스택 치환(OSR): 런타임에 스택을 치환하는 기술


- 핫스팟 가상 머신은 기본적으로 JIT 컴파일러를 2개 내장한다.
  - 클라이언트 컴파일러; C1 컴파일러
    - 컴파일 속도가 빠르고, 최적화를 적게 함
  - 서버 컴파일러; C2 컴파일러
    - 컴파일 속도가 느리고, 최적화를 많이 함
  - 그랄 컴파일러
    - JDK 10부터 추가
    - C2 컴파일러의 복잡도가 너무 높아, 대체할 목적으로 도입
    - JDK 16부터는 JDK에서 독립시켜 그랄VM으로 옮김
    - OpenJDK로 복귀한다는 소식은 있으나 아직 적용된 바는 없는 것으로 보임

***
출처: JVM 밑바닥까지 파헤치기 1장
